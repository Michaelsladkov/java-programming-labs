# programming-lab7
Repo with my 7th work on ITMO CSE programming course

# Task:
Доработать программу из [лабораторной работы №6](https://github.com/Michaelsladkov/programming-lab6) следующим образом:

1. Организовать хранение коллекции в реляционной СУБД (PostgresQL). Убрать хранение коллекции в файле.
1. Для генерации поля id использовать средства базы данных (sequence).
1. Обновлять состояние коллекции в памяти только при успешном добавлении объекта в БД
1. Все команды получения данных должны работать с коллекцией в памяти, а не в БД
1. Организовать возможность регистрации и авторизации пользователей. У пользователя есть возможность указать пароль.
1. Пароли при хранении хэшировать алгоритмом SHA-256
1. Запретить выполнение команд не авторизованным пользователям.
1. При хранении объектов сохранять информацию о пользователе, который создал этот объект.
1. Пользователи должны иметь возможность просмотра всех объектов коллекции, но модифицировать могут только принадлежащие им.
1. Для идентификации пользователя отправлять логин и пароль с каждым запросом.

## Необходимо реализовать многопоточную обработку запросов.

- Для многопоточного чтения запросов использовать Fixed thread pool
- Для многопотчной обработки полученного запроса использовать Fixed thread pool
- Для многопоточной отправки ответа использовать ForkJoinPool
- Для синхронизации доступа к коллекции использовать потокобезопасные аналоги коллекции из java.util.concurrent

## Порядок выполнения работы:

- В качестве базы данных использовать PostgreSQL.
- Для подключения к БД на кафедральном сервере использовать хост pg, имя базы данных - studs, имя пользователя/пароль совпадают с таковыми для подключения к серверу.

# Особенности реализации
- При инициализации программы таблица создаётся автоматически, если не была создана ранее
- Для передачи логина и пароля к базе данных используются переменные окружения DB_LOGIN, DB_PASSWORD и необязательная DB_HOST